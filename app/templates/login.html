{% extends "layout/base_login.html" %}

{% block additional_css %}
<!-- CSS riêng cho login -->
<link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}">
{% endblock %}

{% block content %}

<div class="container">
    <div class="header">
    <a href="{{ url_for('register') }}" class="btn btn-success btn-sm">
        <i class="fa-solid fa-user-plus"></i> Đăng ký
    </a>

        <h2 class="mt-4 mb-4">ĐĂNG NHẬP</h2>
    </div>

    <form method="post" action="/login">
        {{ form.csrf_token }}
        <div class="form-floating mt-3 mb-2">

            <label class="form-label">Tên đăng nhập</label>
            {{ form.username(class="form-control border-info") }}
        </div>

        <div class="form-floating  mb-3">
            <label class="mt-3 form-label ">Mật khẩu</label>
            {{ form.password(class="form-control border-info") }}

        </div>
        <p class="text-warning" id="warning-caps-lock" hidden="hidden"><i class="fa-solid fa-circle-exclamation"></i>
            Bạn đang bật Caps lock</p>
        {% if mse %}
        <p class="text-danger">{{ mse }}</p>
        {% endif %}
        <button type="submit" class="btn btn-primary w-100">{{ form.SubmitFieldLogin.label }}</button>
         <a href="{{ url_for('login_oauth') }}" class="btn btn-danger w-100 mt-3">
            <i class="fab fa-google"></i> Đăng nhập với Google
        </a>

    </form>

    <div class="footer mt-4">
        <hr>
        <p>Nếu bạn chưa có tài khoản? <a href="https://hotro.ou.edu.vn">Vui lòng liên hệ </a> với bệnh viện tại nơi khám hoặc liên
            hệ đến địa chỉ email <i>supporthealth4444@gmail.com</i> để được hổ trợ</p>
    </div>
    <script>
        const pwInput = document.getElementById("password")
        const labelWarning = document.getElementById("warning-caps-lock")
        pwInput.addEventListener('keyup',(event)=>{
            console.log(labelWarning.display)
            if(event.getModifierState("CapsLock"))
                labelWarning.removeAttribute("hidden");
            else{
                labelWarning.setAttribute("hidden", "hidden");
            }

        })
    </script>
</div>
{% endblock %}